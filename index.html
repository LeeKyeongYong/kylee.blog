<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>jqGrid Dynamic Row Adding Example</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqgrid/5.5.5/css/ui.jqgrid.min.css" />
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jqgrid/5.5.5/js/jquery.jqGrid.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/free-jqgrid@4.15.5/dist/i18n/grid.locale-en.js"></script>

  <link rel="stylesheet" type="text/css" media="screen" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/themes/base/jquery-ui.min.css">
  <link rel="stylesheet" type="text/css" media="screen" href="https://cdnjs.cloudflare.com/ajax/libs/free-jqgrid/4.15.4/css/ui.jqgrid.min.css">

  <script>
    $(function() {
      $.jgrid.defaults = $.extend($.jgrid.defaults, {
        formatter: {
          number: {
            decimalSeparator: ".",
            thousandsSeparator: ","
          }
        }
      });

      var mydata = [
        {id:1, name:'John', age:35},
        {id:2, name:'Jane', age:28},
        {id:3, name:'Bob', age:45},
        {id:4, name:'Kate', age:31},
        {id:5, name:'Mike', age:52}
      ];
      
      // jqGrid 생성
      $("#myGrid").jqGrid({
        data: mydata,
        datatype: "local",
        colNames: ['ID', 'Name', 'Age'],
        colModel: [
          {name:'id', index:'id', width:60, sorttype:"int"},
          {name:'name', index:'name', width:100},
          {name:'age', index:'age', width:60, sorttype:"int"}
        ],
        pager: '#myPager',
        rowNum: 10,
        rowList: [10, 20, 30],
        sortname: 'id',
        sortorder: 'asc',
        viewrecords: true,
        caption: 'My Grid'
      });
      
      // 버튼 클릭 시 행 추가
      $("#addRowBtn").click(function() {
        var newdata = {id:6, name:'Sarah', age:27};
        $("#myGrid").jqGrid('addRowData', newdata.id, newdata);
      });
    });
  </script>
</head>
<body>
  <h1>jqGrid Dynamic Row Adding Example</h1>
  <table id="myGrid"></table>
  <div id="myPager"></div>
  <button id="addRowBtn">Add Row</button>
</body>
</html>
